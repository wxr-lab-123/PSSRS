# PSSRS 医院挂号系统功能说明书

## 1. 系统概述
本系统是一款基于前后端分离架构的医院挂号服务平台，旨在为患者、医生及医院管理员提供全方位的医疗服务管理功能。系统包含 **患者端（微信小程序）**、**医生工作台（Web端）** 以及 **管理后台（Web端）** 三大核心模块。

## 2. 功能模块详解

### 2.1 患者端 (微信小程序)
为患者提供便捷的在线挂号、预约取号、就诊人管理等服务。

*   **用户管理**:
    *   **注册与登录**: 支持手机号验证码注册与登录，确保账户安全。
    *   **个人中心**: 编辑个人昵称、手机号，修改登录密码。
*   **就诊人管理**:
    *   **多就诊人管理**: 支持添加、编辑、删除家庭成员就诊卡。
    *   **实名认证**: 必须填写真实姓名、身份证号（自动脱敏显示）及手机号。
    *   **安全验证**: 添加就诊人时需通过短信验证码校验。
*   **预约挂号**:
    *   **智能导诊**: 图文并茂的科室网格列表。
    *   **排班查询**: 支持未来14天内医生排班查询（过滤非工作日）。
    *   **号源状态**: 实时显示医生号源状态（可约/已满）及具体时段。
    *   **多就诊人切换**: 挂号时可快速切换不同就诊人。
*   **当日挂号**:
    *   **快速通道**: 针对当天的快速挂号入口，联动科室与医生排班。
*   **预约取号**:
    *   **签到取号**: 到达医院后点击“立即取号”，系统校验支付状态并生成排队号。
    *   **状态跟踪**: 实时更新“待就诊”、“已就诊”状态。
*   **我的挂号**:
    *   **记录查询**: 查看历史挂号记录、挂号费、医生信息。
    *   **取消预约**: 对未就诊的订单进行取消操作。
*   **订单与支付**:
    *   **在线支付**: 模拟支付流程，支持订单详情查看及退款申请。

### 2.2 医生工作台 (Web端)
为医生提供排班查询、挂号处理及个人事务管理功能。

*   **我的排班**:
    *   查看个人的未来排班计划。
    *   提交请假申请（支持上传附件）。
*   **我的挂号**:
    *   查看预约该医生的患者列表。
    *   处理患者的就诊状态（如完成就诊）。
*   **消息通知**:
    *   接收系统通知及请假审批结果。
*   **个人信息**:
    *   维护个人简介、擅长领域等展示信息。

### 2.3 管理后台 (Web端)
为医院管理员提供全面的系统配置及业务监管功能。

*   **仪表盘 (Dashboard)**:
    *   **数据概览**: 实时展示今日挂号量、待就诊人数、在线医生数及退款申请数。
    *   **自动刷新**: 支持数据实时自动刷新。
*   **基础信息管理**:
    *   **科室管理**: 维护科室名称、图标及描述。
    *   **医生管理**: 录入医生信息、职称、擅长领域及挂号费设置。
    *   **排班管理**: 灵活配置医生排班（日期、时段、号源数量、号源类型）。
*   **业务管理**:
    *   **挂号管理**: 查询全院挂号记录，支持状态干预。
    *   **订单管理**: 监控系统订单状态，处理异常订单。
    *   **审批中心**:
        *   **请假审批**: 审核医生的请假申请。
        *   **退款审批**: 处理患者的退款请求。
*   **用户与权限**:
    *   **患者管理**: 查看注册患者信息及就诊人档案。
    *   **管理员管理**: 管理后台账号。
    *   **角色权限**: 配置不同角色的系统操作权限（RBAC模型）。
    *   **权限管理**: 细粒度的菜单及按钮权限控制。

## 3. 技术亮点与更新
*   **多端协同**: 小程序与Web后台数据实时互通，WebSocket实现消息推送（如请假申请通知）。
*   **界面体验**:
    *   小程序端全面适配蓝白色系主题，支持深色模式基础。
    *   Web端提供“卡片视图”与“列表视图”一键切换，适应不同操作习惯。
*   **安全合规**:
    *   敏感信息（如身份证号）前端自动脱敏。
    *   关键操作（如添加就诊人）增加验证码校验防护。
*   **性能优化**:
    *   就诊人列表、医生排班列表支持懒加载与滚动优化。
    *   状态更新采用局部刷新机制，提升响应速度。

---
*文档生成日期: 2025-12-17*
